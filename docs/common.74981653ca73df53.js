"use strict";(self.webpackChunkzomato=self.webpackChunkzomato||[]).push([[592],{3649:(p,u,s)=>{s.d(u,{d:()=>e});var _=s(6895),d=s(7579),h=s(2722),t=s(8256),r=s(5620);function o(i,l){if(1&i){const v=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.NdJ("click",function(){t.CHM(v);const a=t.oxw();return t.KtG(a.remove())}),t._uU(2,"-"),t.qZA(),t.TgZ(3,"div",4),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.NdJ("click",function(){t.CHM(v);const a=t.oxw();return t.KtG(a.add())}),t._uU(6,"+"),t.qZA()()}if(2&i){const v=t.oxw();t.xp6(4),t.Oqu(v.count)}}function n(i,l){if(1&i){const v=t.EpF();t.TgZ(0,"p",5),t.NdJ("click",function(){t.CHM(v);const a=t.oxw();return t.KtG(a.add())}),t._uU(1,"Add +"),t.qZA()}}let e=(()=>{const l=class{constructor(c){this.commonSvc=c,this.cart=[],this.count=0,this.destroy$=new d.x}ngOnInit(){this.commonSvc.cart.pipe((0,h.R)(this.destroy$)).subscribe(c=>{this.count=c.find(a=>a.dish.id===this.dish?.id)?.count??0,this.cart=c})}add(){this.dish&&this.commonSvc.addToCart(this.dish)}remove(){this.dish&&this.commonSvc.removeFromCart(this.dish)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getCount(){return this.dish&&this.cart.some(c=>c.dish.id===this.dish?.id)}};let i=l;return l.\u0275fac=function(a){return new(a||l)(t.Y36(r.v))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-add-cart"]],inputs:{dish:"dish"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","d-flex flex-row",4,"ngIf","ngIfElse"],["showCounter",""],[1,"d-flex","flex-row"],[1,"symbol-button",3,"click"],[1,"font-weight-bold"],[1,"symbol-button","text-success","px-3","py-1",2,"border","2px solid green","border-radius",".5rem",3,"click"]],template:function(a,m){if(1&a&&(t.YNc(0,o,7,1,"div",0),t.YNc(1,n,2,0,"ng-template",null,1,t.W1O)),2&a){const C=t.MAs(2);t.Q6J("ngIf",m.getCount())("ngIfElse",C)}},dependencies:[_.ez,_.O5],styles:[".symbol-button[_ngcontent-%COMP%]{margin:0rem 1rem;cursor:pointer}"]}),i})()},5620:(p,u,s)=>{s.d(u,{v:()=>h});var _=s(1135),d=s(8256);let h=(()=>{const r=class{constructor(){this.temp=localStorage.getItem("cart"),this.privateCart=new _.X(this.temp?JSON.parse(this.temp):[]),this.cart=this.privateCart.asObservable(),this.cart.subscribe(n=>localStorage.setItem("cart",JSON.stringify(n)))}addToCart(n){if(this.privateCart.value.length>0&&this.privateCart.value[0].dish.restaurantId!==n.restaurantId)this.privateCart.next([{dish:n,count:1}]);else{let e=this.privateCart.value.findIndex(i=>i.dish.id===n.id);e>-1?this.privateCart.value[e].count++:this.privateCart.value.push({dish:n,count:1}),this.privateCart.next([...this.privateCart.value])}}removeFromCart(n){let e=this.privateCart.value.findIndex(i=>i.dish.id===n.id);e>-1&&(this.privateCart.value[e].count>1?this.privateCart.value[e].count--:this.privateCart.value.splice(e,1)),this.privateCart.next(this.privateCart.value)}};let t=r;return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),t})()},2468:(p,u,s)=>{s.d(u,{D:()=>t});var _=s(1960),d=s(8256),h=s(529);let t=(()=>{const o=class{constructor(e){this.http=e}getCategories(e){return this.http.get(e)}getRestaurantMenu(e){return this.http.get(`${_.v.RESTAURANT_URL}/${e}`)}getRestaurants(e){return this.http.get(`${_.v.RESTAURANT_URL}?page=${e}`)}};let r=o;return o.\u0275fac=function(i){return new(i||o)(d.LFG(h.eN))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})()},2722:(p,u,s)=>{s.d(u,{R:()=>r});var _=s(4482),d=s(5403),h=s(8421),t=s(5032);function r(o){return(0,_.e)((n,e)=>{(0,h.Xf)(o).subscribe((0,d.x)(e,()=>e.complete(),t.Z)),!e.closed&&n.subscribe(e)})}}}]);